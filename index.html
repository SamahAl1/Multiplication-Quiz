<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اختيار جدول الضرب</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; direction: rtl; }
        h1 { color: #333; }
        select, button { margin: 10px; padding: 15px 30px; font-size: 18px; }
    </style>
</head>
<body>
    <h1>اختر الخيار المناسب</h1>

    <!-- قائمة منسدلة لمراجعة جدول معين مع اختباره -->
    <label for="reviewWithTest">مراجعة جدول الضرب مع الاختبار:</label>
    <select id="reviewWithTest">
        <option value="">اختر جدولاً</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <!-- أكمل باقي الجداول حتى 12 -->
        <option value="12">12</option>
    </select>
    <button onclick="chooseTable('reviewWithTest')">اذهب</button>

    <!-- قائمة منسدلة لاختيار جدول معين للاختبار فقط -->
    <label for="testOnly">اختيار جدول معين للاختبار:</label>
    <select id="testOnly">
        <option value="">اختر جدولاً</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <!-- أكمل باقي الجداول حتى 12 -->
        <option value="12">12</option>
    </select>
    <button onclick="chooseTable('testOnly')">اذهب</button>

    <!-- خيار الاختبار النهائي لجميع الجداول -->
    <button onclick="location.href='final_test.html'">الاختبار النهائي لجميع الجداول</button>

    <script>
        // دالة لاختيار الجدول بناءً على نوع الاختبار
        function chooseTable(type) {
            let table;
            if (type === 'reviewWithTest') {
                table = document.getElementById('reviewWithTest').value;
                markTableAsReviewed(table);
            } else if (type === 'testOnly') {
                table = document.getElementById('testOnly').value;
            }

            if (table) {
                if (type === 'reviewWithTest') {
                    location.href = 'review.html?table=' + table;
                } else if (type === 'testOnly') {
                    location.href = 'test.html?table=' + table;
                }
            } else {
                alert("يرجى اختيار جدول.");
            }
        }

        // دالة لتخزين الجداول التي تم مراجعتها في LocalStorage
        function markTableAsReviewed(table) {
            let reviewedTables = JSON.parse(localStorage.getItem('reviewedTables')) || [];
            if (!reviewedTables.includes(table)) {
                reviewedTables.push(table);
                localStorage.setItem('reviewedTables', JSON.stringify(reviewedTables));
            }
        }

        // دالة لتحميل الجداول التي تم مراجعتها وإضافة علامة صح عليها
        function loadReviewedTables() {
            const reviewedTables = JSON.parse(localStorage.getItem('reviewedTables')) || [];
            const reviewSelect = document.getElementById('reviewWithTest');
            const testSelect = document.getElementById('testOnly');

            for (let i = 0; i < reviewSelect.options.length; i++) {
                const option = reviewSelect.options[i];
                if (reviewedTables.includes(option.value)) {
                    option.textContent = option.value + " ✓";
                }
            }

            for (let i = 0; i < testSelect.options.length; i++) {
                const option = testSelect.options[i];
                if (reviewedTables.includes(option.value)) {
                    option.textContent = option.value + " ✓";
                }
            }
        }

        // تحميل الجداول التي تم مراجعتها عند فتح الصفحة
        window.onload = loadReviewedTables;
    </script>
</body>
</html>
